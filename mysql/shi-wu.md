**1.事务开始前的指令-开始事务**

    start transaction

目的：就是让SQL语句不要立即提交

**2设置保存点**

    savepoint 保存点名字

**3.如果我们希望恢复到某个保存点**

   rollback 保存点名字；

    rollback ：取消全部事务

**4.确认没有问题，可以提交事务**

    commit

事务的细节说明：

    - 1，如果开启事务时，没有设置保存点，默认会有一个保存点，如果需要回退，rollback

    - 2.当设置了多个保存点，可以依次退回

    - 3，事务需要储存引擎是InnoDB

    - 4.开启事务的方式：start transaction； set autocommit=false;

事务的隔离级别

>    基本介绍：不同的客户端或者线程去操作数据库（表）时，去访问mysql数据库的同一张表时，mysql提供一种机制，该机制可以控制操作数据的不同权限，隔离级别定义了事务与事务之间的隔离程度，在不同的事务中，看到的数据是不一样的



**事务隔离级别的分类：**


    - 读未提交（read uncommited\)

    - 读已提交（read commit）

    - 可重复读（repeatable read）

    - 串行化读（serializable\)



**事务隔离会出现的问题：**


- 1.脏读：当一个事务读取另一个事务未提交的修改时，产生脏读

- 2.幻读：同一查询事务中多次进行，由于其他提交事务所做的修改或删除，每次返回不同的结果集，

- 3.不可重读读：

同一查询事务中多次进行，由于其他提交事务

所做的插入操作

事务的acid特性：=i

![](/img/Language/MySQL/affair/1f4e0b2b-66bd-4f4d-aa2b-c7d5fc4697be.png)

  


